{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\mindpeace-designer\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState, forwardRef, memo } from 'react';\nimport ReactFlow, { ReactFlowProvider, addEdge, MiniMap, Controls, Background, useNodesState, useEdgesState, MarkerType } from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport { nanoid } from 'nanoid';\n\n// âœ… Fix for ResizeObserver error using forwardRef\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CustomNode = /*#__PURE__*/forwardRef(_c = ({\n  id,\n  data\n}, ref) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    style: {\n      padding: 10,\n      border: '2px solid #333',\n      borderRadius: 8,\n      background: '#fff',\n      minWidth: 150\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontWeight: 'bold',\n        marginBottom: 5\n      },\n      children: [\"ID: \", id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: data.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n});\n_c2 = CustomNode;\nconst nodeTypes = {\n  default: /*#__PURE__*/memo(CustomNode)\n};\nconst App = () => {\n  _s();\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const [selectedNodeId, setSelectedNodeId] = useState(null);\n  const [label, setLabel] = useState('');\n  const [capture, setCapture] = useState('');\n  const [next, setNext] = useState('');\n  const [expectedInputs, setExpectedInputs] = useState('');\n  const [inputMapping, setInputMapping] = useState('');\n  const [followUpPrompt, setFollowUpPrompt] = useState('');\n  const [followUpCapture, setFollowUpCapture] = useState('');\n  const [gpt, setGpt] = useState(false);\n  const [end, setEnd] = useState(false);\n  const onConnect = useCallback(params => {\n    const label = prompt('Label for this edge (e.g., \"yes\", \"no\")');\n    setEdges(eds => addEdge({\n      ...params,\n      label: label || '',\n      type: 'default',\n      markerEnd: {\n        type: MarkerType.ArrowClosed\n      }\n    }, eds));\n  }, [setEdges]);\n  const onNodeClick = useCallback((_, node) => {\n    var _n$data$gpt;\n    setSelectedNodeId(node.id);\n    const n = nodes.find(n => n.id === node.id);\n    setLabel(n.data.label || '');\n    setCapture(n.data.capture || '');\n    setNext(n.data.next || '');\n    setExpectedInputs((n.data.expected_inputs || []).join(', '));\n    setInputMapping(JSON.stringify(n.data.input_mapping || {}, null, 2));\n    setFollowUpPrompt(n.data.follow_up_prompt || '');\n    setFollowUpCapture(n.data.follow_up_capture || '');\n    setGpt(((_n$data$gpt = n.data.gpt) === null || _n$data$gpt === void 0 ? void 0 : _n$data$gpt.enabled) || false);\n    setEnd(n.data.end || false);\n  }, [nodes]);\n  const handleNodeUpdate = () => {\n    const inputs = expectedInputs.split(',').map(i => i.trim()).filter(Boolean);\n    let inputMap = {};\n    try {\n      inputMap = JSON.parse(inputMapping || '{}');\n    } catch {}\n    setNodes(nds => nds.map(node => node.id === selectedNodeId ? {\n      ...node,\n      data: {\n        ...node.data,\n        label,\n        capture,\n        next,\n        expected_inputs: inputs,\n        input_mapping: inputMap,\n        follow_up_prompt: followUpPrompt,\n        follow_up_capture: followUpCapture,\n        gpt: gpt ? {\n          enabled: true\n        } : null,\n        end\n      }\n    } : node));\n  };\n  const addNewNode = () => {\n    const newId = nanoid(4);\n    const newNode = {\n      id: newId,\n      type: 'default',\n      data: {\n        label: `New Node ${newId}`\n      },\n      position: {\n        x: Math.random() * 400,\n        y: Math.random() * 400\n      }\n    };\n    setNodes(nds => [...nds, newNode]);\n  };\n  const exportToJson = () => {\n    const exported = {\n      nodes: {}\n    };\n    nodes.forEach(node => {\n      const nodeData = {\n        message: node.data.label || ''\n      };\n      if (node.data.capture) nodeData.capture = node.data.capture;\n      if (node.data.next) nodeData.next = node.data.next;\n      if (node.data.expected_inputs) nodeData.expected_inputs = node.data.expected_inputs;\n      if (node.data.input_mapping) nodeData.input_mapping = node.data.input_mapping;\n      if (node.data.follow_up_prompt) nodeData.follow_up_prompt = node.data.follow_up_prompt;\n      if (node.data.follow_up_capture) nodeData.follow_up_capture = node.data.follow_up_capture;\n      if (node.data.gpt) nodeData.gpt = node.data.gpt;\n      if (node.data.end) nodeData.end = node.data.end;\n\n      // derive options from edge labels\n      const options = {};\n      edges.forEach(edge => {\n        if (edge.source === node.id && edge.label) {\n          options[edge.label] = edge.target;\n        }\n      });\n      if (Object.keys(options).length > 0) {\n        nodeData.options = options;\n      }\n      exported.nodes[node.id] = nodeData;\n    });\n    const blob = new Blob([JSON.stringify(exported, null, 2)], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'conversation_data.json';\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n  const handleFileUpload = event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = e => {\n      try {\n        const json = JSON.parse(e.target.result);\n        if (!json.nodes) return alert('Invalid file format');\n        const rawNodes = json.nodes;\n        const importedNodes = Object.entries(rawNodes).map(([id, node], index) => ({\n          id,\n          type: 'default',\n          data: {\n            label: node.message || '',\n            capture: node.capture || '',\n            next: node.next || '',\n            expected_inputs: node.expected_inputs || [],\n            input_mapping: node.input_mapping || {},\n            follow_up_prompt: node.follow_up_prompt || '',\n            follow_up_capture: node.follow_up_capture || '',\n            gpt: node.gpt || null,\n            end: node.end || false\n          },\n          position: {\n            x: index % 4 * 250,\n            y: Math.floor(index / 4) * 150\n          }\n        }));\n        const generatedEdges = [];\n        Object.entries(rawNodes).forEach(([sourceId, node]) => {\n          if (node.options) {\n            Object.entries(node.options).forEach(([label, targetId]) => {\n              generatedEdges.push({\n                id: `${sourceId}-${targetId}-${label}`,\n                source: sourceId,\n                target: targetId,\n                label,\n                type: 'default',\n                markerEnd: {\n                  type: MarkerType.ArrowClosed\n                }\n              });\n            });\n          }\n          if (node.next) {\n            generatedEdges.push({\n              id: `${sourceId}-${node.next}`,\n              source: sourceId,\n              target: node.next,\n              type: 'default',\n              markerEnd: {\n                type: MarkerType.ArrowClosed\n              }\n            });\n          }\n        });\n        setNodes(importedNodes);\n        setEdges(generatedEdges);\n        setSelectedNodeId(null);\n      } catch (err) {\n        alert('Failed to parse file.');\n      }\n    };\n    reader.readAsText(file);\n  };\n  return /*#__PURE__*/_jsxDEV(ReactFlowProvider, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        height: '100vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '75%',\n          height: '100%'\n        },\n        children: /*#__PURE__*/_jsxDEV(ReactFlow, {\n          nodes: nodes,\n          edges: edges,\n          onNodesChange: onNodesChange,\n          onEdgesChange: onEdgesChange,\n          onConnect: onConnect,\n          onNodeClick: onNodeClick,\n          nodeTypes: nodeTypes,\n          fitView: true,\n          children: [/*#__PURE__*/_jsxDEV(MiniMap, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '25%',\n          padding: 10,\n          background: '#f9f9f9'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Node Editor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addNewNode,\n          children: \"\\u2795 Add Node\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 59\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 65\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Message:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: 3,\n          value: label,\n          onChange: e => setLabel(e.target.value),\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 115\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Capture Field:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 40\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: capture,\n          onChange: e => setCapture(e.target.value),\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 107\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Next Node ID:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: next,\n          onChange: e => setNext(e.target.value),\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 101\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Expected Inputs (comma separated):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 60\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: expectedInputs,\n          onChange: e => setExpectedInputs(e.target.value),\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 121\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Input Mapping (JSON):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 47\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: 3,\n          value: inputMapping,\n          onChange: e => setInputMapping(e.target.value),\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 129\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Follow-up Prompt:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 43\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: followUpPrompt,\n          onChange: e => setFollowUpPrompt(e.target.value),\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 121\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Follow-up Capture:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 44\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: followUpCapture,\n          onChange: e => setFollowUpCapture(e.target.value),\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 123\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: gpt,\n            onChange: () => setGpt(!gpt)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 18\n          }, this), \" GPT Enabled\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 107\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: end,\n            onChange: () => setEnd(!end)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 18\n          }, this), \" End Node\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 104\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 110\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNodeUpdate,\n          children: \"\\uD83D\\uDCBE Update Node\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 69\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 75\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: exportToJson,\n          children: \"\\uD83D\\uDCE4 Export JSON\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 65\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 71\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".json\",\n          onChange: handleFileUpload\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"Upload conversation_data.json\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"/Bi8h8kgZKZCtzUuAV63xsvmauY=\", false, function () {\n  return [useNodesState, useEdgesState];\n});\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CustomNode$forwardRef\");\n$RefreshReg$(_c2, \"CustomNode\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useCallback","useState","forwardRef","memo","ReactFlow","ReactFlowProvider","addEdge","MiniMap","Controls","Background","useNodesState","useEdgesState","MarkerType","nanoid","jsxDEV","_jsxDEV","CustomNode","_c","id","data","ref","style","padding","border","borderRadius","background","minWidth","children","fontWeight","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","label","_c2","nodeTypes","default","App","_s","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","selectedNodeId","setSelectedNodeId","setLabel","capture","setCapture","next","setNext","expectedInputs","setExpectedInputs","inputMapping","setInputMapping","followUpPrompt","setFollowUpPrompt","followUpCapture","setFollowUpCapture","gpt","setGpt","end","setEnd","onConnect","params","prompt","eds","type","markerEnd","ArrowClosed","onNodeClick","_","node","_n$data$gpt","n","find","expected_inputs","join","JSON","stringify","input_mapping","follow_up_prompt","follow_up_capture","enabled","handleNodeUpdate","inputs","split","map","i","trim","filter","Boolean","inputMap","parse","nds","addNewNode","newId","newNode","position","x","Math","random","y","exportToJson","exported","forEach","nodeData","message","options","edge","source","target","Object","keys","length","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","handleFileUpload","event","file","files","reader","FileReader","onload","e","json","result","alert","rawNodes","importedNodes","entries","index","floor","generatedEdges","sourceId","targetId","push","err","readAsText","display","height","width","fitView","onClick","rows","value","onChange","checked","accept","_c3","$RefreshReg$"],"sources":["C:/Users/User/Desktop/mindpeace-designer/src/App.js"],"sourcesContent":["import React, { useCallback, useState, forwardRef, memo } from 'react';\nimport ReactFlow, {\n  ReactFlowProvider,\n  addEdge,\n  MiniMap,\n  Controls,\n  Background,\n  useNodesState,\n  useEdgesState,\n  MarkerType,\n} from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport { nanoid } from 'nanoid';\n\n// âœ… Fix for ResizeObserver error using forwardRef\nconst CustomNode = forwardRef(({ id, data }, ref) => {\n  return (\n    <div\n      ref={ref}\n      style={{\n        padding: 10,\n        border: '2px solid #333',\n        borderRadius: 8,\n        background: '#fff',\n        minWidth: 150,\n      }}\n    >\n      <div style={{ fontWeight: 'bold', marginBottom: 5 }}>ID: {id}</div>\n      <div>{data.label}</div>\n    </div>\n  );\n});\n\nconst nodeTypes = {\n  default: memo(CustomNode),\n};\n\nconst App = () => {\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const [selectedNodeId, setSelectedNodeId] = useState(null);\n  const [label, setLabel] = useState('');\n  const [capture, setCapture] = useState('');\n  const [next, setNext] = useState('');\n  const [expectedInputs, setExpectedInputs] = useState('');\n  const [inputMapping, setInputMapping] = useState('');\n  const [followUpPrompt, setFollowUpPrompt] = useState('');\n  const [followUpCapture, setFollowUpCapture] = useState('');\n  const [gpt, setGpt] = useState(false);\n  const [end, setEnd] = useState(false);\n\n  const onConnect = useCallback(\n    (params) => {\n      const label = prompt('Label for this edge (e.g., \"yes\", \"no\")');\n      setEdges((eds) =>\n        addEdge(\n          {\n            ...params,\n            label: label || '',\n            type: 'default',\n            markerEnd: {\n              type: MarkerType.ArrowClosed,\n            },\n          },\n          eds\n        )\n      );\n    },\n    [setEdges]\n  );\n\n  const onNodeClick = useCallback(\n    (_, node) => {\n      setSelectedNodeId(node.id);\n      const n = nodes.find((n) => n.id === node.id);\n      setLabel(n.data.label || '');\n      setCapture(n.data.capture || '');\n      setNext(n.data.next || '');\n      setExpectedInputs((n.data.expected_inputs || []).join(', '));\n      setInputMapping(JSON.stringify(n.data.input_mapping || {}, null, 2));\n      setFollowUpPrompt(n.data.follow_up_prompt || '');\n      setFollowUpCapture(n.data.follow_up_capture || '');\n      setGpt(n.data.gpt?.enabled || false);\n      setEnd(n.data.end || false);\n    },\n    [nodes]\n  );\n\n  const handleNodeUpdate = () => {\n    const inputs = expectedInputs\n      .split(',')\n      .map((i) => i.trim())\n      .filter(Boolean);\n    let inputMap = {};\n    try {\n      inputMap = JSON.parse(inputMapping || '{}');\n    } catch {}\n\n    setNodes((nds) =>\n      nds.map((node) =>\n        node.id === selectedNodeId\n          ? {\n              ...node,\n              data: {\n                ...node.data,\n                label,\n                capture,\n                next,\n                expected_inputs: inputs,\n                input_mapping: inputMap,\n                follow_up_prompt: followUpPrompt,\n                follow_up_capture: followUpCapture,\n                gpt: gpt ? { enabled: true } : null,\n                end,\n              },\n            }\n          : node\n      )\n    );\n  };\n\n  const addNewNode = () => {\n    const newId = nanoid(4);\n    const newNode = {\n      id: newId,\n      type: 'default',\n      data: {\n        label: `New Node ${newId}`,\n      },\n      position: {\n        x: Math.random() * 400,\n        y: Math.random() * 400,\n      },\n    };\n    setNodes((nds) => [...nds, newNode]);\n  };\n\n  const exportToJson = () => {\n    const exported = {\n      nodes: {},\n    };\n\n    nodes.forEach((node) => {\n      const nodeData = {\n        message: node.data.label || '',\n      };\n      if (node.data.capture) nodeData.capture = node.data.capture;\n      if (node.data.next) nodeData.next = node.data.next;\n      if (node.data.expected_inputs) nodeData.expected_inputs = node.data.expected_inputs;\n      if (node.data.input_mapping) nodeData.input_mapping = node.data.input_mapping;\n      if (node.data.follow_up_prompt) nodeData.follow_up_prompt = node.data.follow_up_prompt;\n      if (node.data.follow_up_capture) nodeData.follow_up_capture = node.data.follow_up_capture;\n      if (node.data.gpt) nodeData.gpt = node.data.gpt;\n      if (node.data.end) nodeData.end = node.data.end;\n\n      // derive options from edge labels\n      const options = {};\n      edges.forEach((edge) => {\n        if (edge.source === node.id && edge.label) {\n          options[edge.label] = edge.target;\n        }\n      });\n      if (Object.keys(options).length > 0) {\n        nodeData.options = options;\n      }\n\n      exported.nodes[node.id] = nodeData;\n    });\n\n    const blob = new Blob([JSON.stringify(exported, null, 2)], {\n      type: 'application/json',\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'conversation_data.json';\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const handleFileUpload = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const json = JSON.parse(e.target.result);\n        if (!json.nodes) return alert('Invalid file format');\n\n        const rawNodes = json.nodes;\n\n        const importedNodes = Object.entries(rawNodes).map(([id, node], index) => ({\n          id,\n          type: 'default',\n          data: {\n            label: node.message || '',\n            capture: node.capture || '',\n            next: node.next || '',\n            expected_inputs: node.expected_inputs || [],\n            input_mapping: node.input_mapping || {},\n            follow_up_prompt: node.follow_up_prompt || '',\n            follow_up_capture: node.follow_up_capture || '',\n            gpt: node.gpt || null,\n            end: node.end || false,\n          },\n          position: {\n            x: (index % 4) * 250,\n            y: Math.floor(index / 4) * 150,\n          },\n        }));\n\n        const generatedEdges = [];\n        Object.entries(rawNodes).forEach(([sourceId, node]) => {\n          if (node.options) {\n            Object.entries(node.options).forEach(([label, targetId]) => {\n              generatedEdges.push({\n                id: `${sourceId}-${targetId}-${label}`,\n                source: sourceId,\n                target: targetId,\n                label,\n                type: 'default',\n                markerEnd: {\n                  type: MarkerType.ArrowClosed,\n                },\n              });\n            });\n          }\n          if (node.next) {\n            generatedEdges.push({\n              id: `${sourceId}-${node.next}`,\n              source: sourceId,\n              target: node.next,\n              type: 'default',\n              markerEnd: {\n                type: MarkerType.ArrowClosed,\n              },\n            });\n          }\n        });\n\n        setNodes(importedNodes);\n        setEdges(generatedEdges);\n        setSelectedNodeId(null);\n      } catch (err) {\n        alert('Failed to parse file.');\n      }\n    };\n    reader.readAsText(file);\n  };\n\n  return (\n    <ReactFlowProvider>\n      <div style={{ display: 'flex', height: '100vh' }}>\n        <div style={{ width: '75%', height: '100%' }}>\n          <ReactFlow\n            nodes={nodes}\n            edges={edges}\n            onNodesChange={onNodesChange}\n            onEdgesChange={onEdgesChange}\n            onConnect={onConnect}\n            onNodeClick={onNodeClick}\n            nodeTypes={nodeTypes}\n            fitView\n          >\n            <MiniMap />\n            <Controls />\n            <Background />\n          </ReactFlow>\n        </div>\n\n        <div style={{ width: '25%', padding: 10, background: '#f9f9f9' }}>\n          <h3>Node Editor</h3>\n          <button onClick={addNewNode}>âž• Add Node</button><br /><br />\n\n          <label>Message:</label><br />\n          <textarea rows={3} value={label} onChange={(e) => setLabel(e.target.value)} style={{ width: '100%' }} /><br />\n\n          <label>Capture Field:</label><br />\n          <input value={capture} onChange={(e) => setCapture(e.target.value)} style={{ width: '100%' }} /><br />\n\n          <label>Next Node ID:</label><br />\n          <input value={next} onChange={(e) => setNext(e.target.value)} style={{ width: '100%' }} /><br />\n\n          <label>Expected Inputs (comma separated):</label><br />\n          <input value={expectedInputs} onChange={(e) => setExpectedInputs(e.target.value)} style={{ width: '100%' }} /><br />\n\n          <label>Input Mapping (JSON):</label><br />\n          <textarea rows={3} value={inputMapping} onChange={(e) => setInputMapping(e.target.value)} style={{ width: '100%' }} /><br />\n\n          <label>Follow-up Prompt:</label><br />\n          <input value={followUpPrompt} onChange={(e) => setFollowUpPrompt(e.target.value)} style={{ width: '100%' }} /><br />\n\n          <label>Follow-up Capture:</label><br />\n          <input value={followUpCapture} onChange={(e) => setFollowUpCapture(e.target.value)} style={{ width: '100%' }} /><br />\n\n          <label><input type=\"checkbox\" checked={gpt} onChange={() => setGpt(!gpt)} /> GPT Enabled</label><br />\n          <label><input type=\"checkbox\" checked={end} onChange={() => setEnd(!end)} /> End Node</label><br /><br />\n\n          <button onClick={handleNodeUpdate}>ðŸ’¾ Update Node</button><br /><br />\n          <button onClick={exportToJson}>ðŸ“¤ Export JSON</button><br /><br />\n          <input type=\"file\" accept=\".json\" onChange={handleFileUpload} />\n          <small><i>Upload conversation_data.json</i></small>\n        </div>\n      </div>\n    </ReactFlowProvider>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}